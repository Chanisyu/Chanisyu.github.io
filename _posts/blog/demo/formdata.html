<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>获取Form表单的数据</title>
</head>
<body>
<form id="form" method="POST">
	<input type="text" autocomplete="off" name="value" />
	<section>
		<input type="radio" name="A" value="A0">选择题0
		<input type="radio" name="A" value="A1">选择题1
		<input type="radio" name="A" value="A2">选择题2
		<input type="radio" name="A" value="A3">选择题3
</section>
 <section>
	<input type="checkbox" name="B" value="B0">选择题0
	<input type="checkbox" name="B" value="B1">选择题1
	<input type="checkbox" name="B" value="B2">选择题2
	<input type="checkbox" name="B" value="B3">选择题3
</section>
<button type="submit">提交</button>
<button type="reset">重置</button>
</form>
<button form="form" type="submit">提交</button>
<button form="form" type="reset">重置</button>
</body>
<script>
	const form = document.querySelector('form')

	// 设置 formdata 的格式
	var formData = new FormData(form); // form为表单对象
	Object.defineProperty(HTMLFormElement.prototype, 'formdata', {
			get() {
					return new FormData(this);
			}
	})
		
	form.addEventListener("submit", (ev) => {
			ev.preventDefault();
			const jsondata = {}
			let x = form.formdata.getAll('B')
			console.log(x,'xxx');
			// 通过form.formdata.get("xxx") 可以获取到属性值
			form.formdata.forEach((value,key)=>{
				if(!jsondata[key])
				jsondata[key]= form.formdata.getAll.length>0?form.formdata.getAll(key) : formdata.get(key)
				console.log(value,key)
			})
			// console.log(form.formdata.get("value"));
			// 自己发请求
	})

</script>
</html> 
