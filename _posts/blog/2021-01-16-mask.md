---
layout: post
title: mask 常用的场景
categories: [CSS]
description: 发现，探索 web 优质文章
keywords: mask 常用的场景
---

# 背景
入职阅文以后，第一次做项目的时候用到了 mask，后来用到的频率越来越高，就发现这个真的是一个好东西，记录一下

## 背景颜色变化影响图片
之前写的一篇文章和一个demo [range 实现评分组件](https://codepen.io/qingchuang/pen/jOMmQab)，里面就是用 mask 实现的，把图片盖在背景之上（效果是只显示背景只显示图片区域内，而图片会变成透明的）就实现了背景颜色变化，图片的颜色也跟着变化

例如 [mask 实现图片随背景变化而变化](https://codepen.io/qingchuang/pen/NWReyJd)

[mask 实现文字渐变](https://codepen.io/qingchuang/pen/WNGLzRX)

[使用 mask 实现视频弹幕人物遮罩过滤](https://juejin.cn/post/6931168723021758478)

## 边缘镂空半圆的CSS效果
张老师的小测里面出了一个场景题目

![]({{ site.url }}/images/mask/1.png)


实现边缘镂空的效果，我第一时间想到了，或许mask可以，但是实现看了半天，最终实现不了放弃了。通过后台看[XboxYan 同事](https://github.com/XboxYan)的代码，发现一个很棒很棒的实现。我研究讨论了一段时间才弄懂了。

我 copy 同事的代码出来[mask 边缘镂空半圆的CSS效果](https://codepen.io/qingchuang/pen/YzpgdmB)

我看的不是很明白就在问他

我：为啥mask-position:负数，就会被劈成两个？两边显示

他：你改成0看看

我：零就是一个圆，为负的时候就开始劈开了，负的越多，就开始劈的厉害

他：这个和背景一样，是平铺的

我：还是不懂，为啥会劈开两端，中间没有平铺

他：因为背景有这么大，然后那个洞本来就在最左边

我还是不懂，于是我就去试了试，他说的背景图

试了试成功了，开心，我以为我懂了，就去和他说我懂了[背景镂空](https://codepen.io/qingchuang/pen/OJbqdyP)

我：但是我不清楚，位置变负以后的表现，从来没有用过。觉得很奇怪，查看文档也没有说，会劈在两边显示呀

继续尝试，把background-image换成图片之后，失败了，我懵逼了。到底咋回事，他说的平铺是啥呢？

我：我把我的不懂继续问他，换了一种问法，为啥图片不行，radial-gradient(circle at 10px center, red 10px, transparent 0)就可以了

他：这个绘制出来的就是一整张图，只有左边有一个红色的圆

我：突然明白了，所以利用的是她的平铺特性，其实是有一张多的图片，并不只是一张图片。真的太厉害了

有一次get到很强的写法，我总是那么菜，还笨
